{"version":3,"file":"49.js","sources":["webpack:///app/actions/SeerActions.js","webpack:///app/components/Account/AccountOracleUpdate.jsx"],"sourcesContent":["import WalletApi from \"../api/WalletApi\";\r\nimport alt from \"alt-instance\";\r\nimport WalletDb from \"stores/WalletDb\";\r\nimport {Apis} from \"seerjs-ws\";\r\n\r\nclass SeerActions {\r\n    createOracle(args) {\r\n        let tr = WalletApi.new_transaction();\r\n\r\n        tr.add_type_operation(\"oracle_create\", args);\r\n        return (dispatch) => {\r\n            return WalletDb.process_transaction(tr, null, true).then(result => {\r\n                console.log(\"oracle create result:\", result);\r\n                dispatch(true);\r\n            }).catch(error => {\r\n                console.log(\"createOracle error ----->\", error);\r\n                dispatch(false);\r\n            });\r\n        };\r\n    }\r\n\r\n    updateOracle(args) {\r\n        let tr = WalletApi.new_transaction();\r\n\r\n        tr.add_type_operation(\"oracle_update\", args);\r\n        return (dispatch) => {\r\n            return WalletDb.process_transaction(tr, null, true).then(result => {\r\n                console.log(\"updateOracle result:\", result);\r\n                dispatch(true);\r\n            }).catch(error => {\r\n                console.log(\"updateOracle error ----->\", error);\r\n                dispatch(false);\r\n            });\r\n        };\r\n    }\r\n\r\n    inputOracle(args) {\r\n        let tr = WalletApi.new_transaction();\r\n\r\n        tr.add_type_operation(\"oracle_input\", args);\r\n        return (dispatch) => {\r\n            return WalletDb.process_transaction(tr, null, true).then(result => {\r\n                console.log(\"inputOracle result:\", result);\r\n                dispatch(true);\r\n            }).catch(error => {\r\n                console.log(\"inputOracle error ----->\", error);\r\n                dispatch(false);\r\n            });\r\n        };\r\n    }\r\n\r\n    createRoom(args) {\r\n        let tr = WalletApi.new_transaction();\r\n\r\n        tr.add_type_operation(\"seer_room_create\", args);\r\n        return (dispatch) => {\r\n            return WalletDb.process_transaction(tr, null, true).then(result => {\r\n                console.log(\"room create result:\", result);\r\n                dispatch(true);\r\n            }).catch(error => {\r\n                console.log(\"createRoom error ----->\", error);\r\n                dispatch(false);\r\n            });\r\n        };\r\n    }\r\n\r\n    participate(args) {\r\n        let tr = WalletApi.new_transaction();\r\n\r\n        tr.add_type_operation(\"seer_room_participate\", args);\r\n        return (dispatch) => {\r\n            return WalletDb.process_transaction(tr, null, true).then(result => {\r\n                console.log(\"seer_room_participate result:\", result);\r\n                dispatch(true);\r\n            }).catch(error => {\r\n                console.log(\"seer_room_participate error ----->\", error);\r\n                dispatch(false);\r\n            });\r\n        };\r\n    }\r\n\r\n    openRoom(args) {\r\n        let tr = WalletApi.new_transaction();\r\n\r\n        tr.add_type_operation(\"seer_room_open\", args);\r\n        return (dispatch) => {\r\n            return WalletDb.process_transaction(tr, null, true).then(result => {\r\n                console.log(\"openRoom result:\", result);\r\n                dispatch(true);\r\n            }).catch(error => {\r\n                console.log(\"openRoom error ----->\", error);\r\n                dispatch(false);\r\n            });\r\n        };\r\n    }\r\n\r\n    closeRoom(args) {\r\n        let tr = WalletApi.new_transaction();\r\n\r\n        tr.add_type_operation(\"seer_room_close\", args);\r\n        return (dispatch) => {\r\n            return WalletDb.process_transaction(tr, null, true).then(result => {\r\n                console.log(\"closeRoom result:\", result);\r\n                dispatch(true);\r\n            }).catch(error => {\r\n                console.log(\"closeRoom error ----->\", error);\r\n                dispatch(false);\r\n            });\r\n        };\r\n    }\r\n\r\n    stopParticipate(args) {\r\n        let tr = WalletApi.new_transaction();\r\n\r\n        tr.add_type_operation(\"seer_room_stop_participating\", args);\r\n        return (dispatch) => {\r\n            return WalletDb.process_transaction(tr, null, true).then(result => {\r\n                console.log(\"stopParticipate result:\", result);\r\n                dispatch(true);\r\n            }).catch(error => {\r\n                console.log(\"stopParticipate error ----->\", error);\r\n                dispatch(false);\r\n            });\r\n        };\r\n    }\r\n\r\n    inputRoom(args) {\r\n        let tr = WalletApi.new_transaction();\r\n\r\n        tr.add_type_operation(\"seer_room_input\", args);\r\n        return (dispatch) => {\r\n            return WalletDb.process_transaction(tr, null, true).then(result => {\r\n                console.log(\"inputRoom result:\", result);\r\n                dispatch(true);\r\n            }).catch(error => {\r\n                console.log(\"inputRoom error ----->\", error);\r\n                dispatch(false);\r\n            });\r\n        };\r\n    }\r\n\r\n    finalRoom(args) {\r\n        let tr = WalletApi.new_transaction();\r\n\r\n        tr.add_type_operation(\"seer_room_final\", args);\r\n        return (dispatch) => {\r\n            return WalletDb.process_transaction(tr, null, true).then(result => {\r\n                console.log(\"finalRoom result:\", result);\r\n                dispatch(true);\r\n            }).catch(error => {\r\n                console.log(\"finalRoom error ----->\", error);\r\n                dispatch(false);\r\n            });\r\n        };\r\n    }\r\n\r\n    settleRoom(args) {\r\n        let tr = WalletApi.new_transaction();\r\n\r\n        tr.add_type_operation(\"seer_room_settle\", args);\r\n        return (dispatch) => {\r\n            return WalletDb.process_transaction(tr, null, true).then(result => {\r\n                console.log(\"settleRoom result:\", result);\r\n                dispatch(true);\r\n            }).catch(error => {\r\n                console.log(\"settleRoom error ----->\", error);\r\n                dispatch(false);\r\n            });\r\n        };\r\n    }\r\n\r\n    updateRoom(args) {\r\n        let tr = WalletApi.new_transaction();\r\n\r\n        tr.add_type_operation(\"seer_room_update\", args);\r\n        console.log(tr);\r\n        return (dispatch) => {\r\n            return WalletDb.process_transaction(tr, null, true).then(result => {\r\n                console.log(\"room update result:\", result);\r\n                dispatch(true);\r\n            }).catch(error => {\r\n                console.log(\"updateRoom error ----->\", error);\r\n                dispatch(false);\r\n            });\r\n        };\r\n    }\r\n\r\n    updatePool(args) {\r\n        let tr = WalletApi.new_transaction();\r\n\r\n        tr.add_type_operation(\"seer_room_pool\", args);\r\n        console.log(tr);\r\n        return (dispatch) => {\r\n            return WalletDb.process_transaction(tr, null, true).then(result => {\r\n                console.log(\"room update result:\", result);\r\n                dispatch(true);\r\n            }).catch(error => {\r\n                console.log(\"updateRoom error ----->\", error);\r\n                dispatch(false);\r\n            });\r\n        };\r\n    }\r\n\r\n    createHouse(args) {\r\n        let tr = WalletApi.new_transaction();\r\n\r\n        tr.add_type_operation(\"seer_house_create\", args);\r\n        return (dispatch) => {\r\n            return WalletDb.process_transaction(tr, null, true).then(result => {\r\n                    console.log(\"presale create result:\", result);\r\n            // this.dispatch(account_id);\r\n            dispatch(true);\r\n        }).catch(error => {\r\n                console.log(\"[PresaleActions.js:150] ----- createPresale error ----->\", error);\r\n            dispatch(false);\r\n        });\r\n        };\r\n    }\r\n\r\n\r\n    updateHouse(args) {\r\n        let tr = WalletApi.new_transaction();\r\n\r\n        tr.add_type_operation(\"seer_house_update\", args);\r\n        return (dispatch) => {\r\n            return WalletDb.process_transaction(tr, null, true).then(result => {\r\n                    console.log(\"house update result:\", result);\r\n            dispatch(true);\r\n        }).catch(error => {\r\n                console.log(\"updateHouse error ----->\", error);\r\n            dispatch(false);\r\n        });\r\n        };\r\n    }\r\n}\r\n\r\nexport default alt.createActions(SeerActions);\n\n\n// WEBPACK FOOTER //\n// app/actions/SeerActions.js","import React from \"react\";\r\nimport Translate from \"react-translate-component\";\r\nimport SeerActions from \"../../actions/SeerActions\";\r\nimport BindToChainState from \"../Utility/BindToChainState\";\r\nimport ChainTypes from \"../Utility/ChainTypes\";\r\nimport AmountSelector from \"../Utility/AmountSelector\";\r\nimport {ChainStore} from \"seerjs/es\";\r\nimport FormattedAsset from \"../Utility/FormattedAsset\";\r\nclass AccountOracleUpdate extends React.Component {\r\n\r\n    static propTypes = {\r\n        oracle: ChainTypes.ChainObject.isRequired\r\n    }\r\n\r\n    static defaultProps = {\r\n        oracle: \"props.params.oracle_id\"\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            guaranty: 0,\r\n            description: props.oracle.get(\"description\"),\r\n            script: props.oracle.get(\"script\")\r\n        };\r\n    }\r\n\r\n    _updateOracle() {\r\n        let args = {\r\n            issuer: this.props.account.get(\"id\"),\r\n            guaranty: parseInt(this.state.guaranty*100000),\r\n            description: this.state.description,\r\n            script: this.state.script,\r\n            oracle: this.props.oracle.get(\"id\")\r\n        };\r\n        SeerActions.updateOracle(args);\r\n    }\r\n\r\n    _changeGuaranty({amount, asset}) {\r\n        this.setState({guaranty: amount});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"grid-content app-tables no-padding\" ref=\"appTables\">\r\n              <div className=\"content-block small-12\" style={{paddingTop:\"34px\",maxWidth:\"37.5em\"}}>\r\n                <Translate content=\"seer.oracle.my\" component=\"h5\" style={{fontWeight:\"bold\"}}/>\r\n                <Translate content=\"seer.oracle.explain\" component=\"p\" style={{fontSize:\"14px\",color:\"#999\"}}/>\r\n\r\n                <div className=\"content-block\" style={{marginTop:\"48px\"}}>\r\n                     <Translate component=\"label\" content=\"seer.oracle.description\" />\r\n                    <textarea onChange={e => this.setState({description: e.target.value})}  style={{height:\"6.69em\",resize: \"none\"}}>{this.state.description}</textarea>\r\n                </div>\r\n\r\n                <div className=\"content-block\">\r\n                  <Translate component=\"label\" content=\"house.script\" />\r\n                  <input type=\"text\" value={this.state.script} onChange={e => this.setState({script: e.target.value})}/>\r\n                </div>\r\n\r\n                <div className=\"content-block\">\r\n                  <div style={{display:\"flex\",flexDirection:\"row\",alignItems:\"center\"}}>\r\n                    <Translate content=\"seer.oracle.guaranty\" style={{fontSize:\"14px\",color:\"#666666\"}}/>\r\n\r\n                    <svg className=\"icon\" aria-hidden=\"true\" style={{width:\"18px\",height:\"18px\",marginLeft:\"24px\",marginRight:\"9px\"}}>\r\n                      <use xlinkHref=\"#icon-tishi3\"></use>\r\n                    </svg>\r\n                    <Translate content=\"account.guaranty.balance_explain\" style={{fontSize:\"14px\",color:\"#FF972B\"}}  />\r\n                  </div>\r\n                  <AmountSelector asset={\"1.3.0\"} assets={[\"1.3.0\"]} amount={this.state.guaranty} onChange={this._changeGuaranty.bind(this)}/>\r\n                  <div style={{fontSize:\"14px\",color:\"#999\",width:\"100%\",textAlign:\"right\",paddingTop:\"1em\"}}>\r\n                    <Translate content=\"account.guaranty.balance\" />：\r\n                    <FormattedAsset amount={this.props.oracle.get(\"guaranty\")} asset={\"1.3.0\"}/>\r\n                  </div>\r\n                </div>\r\n\r\n                <button onClick={this._updateOracle.bind(this)} className=\"button primary\" style={{marginTop:\"48px\"}}>\r\n                    <Translate content=\"seer.oracle.update\"/>\r\n                </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BindToChainState(AccountOracleUpdate);\n\n\n// WEBPACK FOOTER //\n// app/components/Account/AccountOracleUpdate.jsx"],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;AAUA;AAAA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AAHA;AAHA;AAQA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;;;AAEA;AAAA;AAAA;AACA;AAAA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAKA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAFA;AAKA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AADA;AAGA;AANA;AAQA;AACA;AAAA;AAAA;AACA;AADA;AAEA;AAFA;AAVA;AAgBA;AAAA;AAAA;AACA;AADA;AA9BA;AADA;AAqCA;;;;AA1EA;AACA;AADA;AAGA;AADA;AAFA;AAOA;AADA;AACA;AACA;AAqEA;;;;A","sourceRoot":""}